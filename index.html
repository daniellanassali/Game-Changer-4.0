<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Changer v4.0 - Enterprise Edition</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #0047ab; --airtel: #ff0000; --mtn: #ffcc00; --success: #2e7d32; --gold: #d4af37; --bg: #f4f7f6; --wa: #25d366; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); margin: 0; display: flex; justify-content: center; overflow: hidden; }
        .app { width: 100%; max-width: 400px; background: white; height: 100vh; position: relative; display: flex; flex-direction: column; box-shadow: 0 0 30px rgba(0,0,0,0.1); }
        .brand { font-family: 'Playfair Display', serif; font-size: 24px; text-align: center; padding: 15px; border-bottom: 1px solid #eee; }
        .c1 { color: #e91e63; } .c2 { color: #9c27b0; } .c3 { color: #2196f3; } .c4 { color: #4caf50; }
        .overlay { position: absolute; top:0; left:0; width:100%; height:100%; z-index: 9999; background: white; padding: 25px; box-sizing: border-box; display: none; flex-direction: column; }
        .legal-box { flex-grow: 1; overflow-y: auto; border: 1px solid #ddd; padding: 15px; border-radius: 10px; font-size: 11px; line-height: 1.4; color: #444; margin-bottom: 15px; }
        #admin-panel { background: black; color: #00ff00; font-family: monospace; z-index: 10000; }
        .nav { height: 70px; border-top: 1px solid #eee; display: flex; background: white; z-index: 800; }
        .nav-btn { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 9px; color: #888; cursor: pointer; }
        .nav-active { color: var(--primary); font-weight: bold; }
        .content { flex-grow: 1; overflow-y: auto; padding: 20px; padding-bottom: 100px; }
        .page { display: none; }
        .active-page { display: block; }
        .card { background: linear-gradient(135deg, #0047ab, #002d62); color: white; padding: 20px; border-radius: 20px; margin-bottom: 15px; }
        .btn { border: none; padding: 12px; border-radius: 10px; font-weight: bold; width: 100%; cursor: pointer; margin-bottom: 8px; font-size: 12px; transition: 0.2s; }
        .btn-airtel { background: var(--airtel); color: white; }
        .btn-mtn { background: var(--mtn); color: black; }
        .nugget { background: #fff; padding: 15px; border-radius: 12px; border-left: 5px solid var(--primary); margin-bottom: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .switch { position: relative; display: inline-block; width: 50px; height: 24px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 24px; }
        input:checked + .slider { background-color: var(--success); }
        .slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 4px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider:before { transform: translateX(26px); }
    </style>
</head>
<body onload="startApp()">

<div class="app">
    <div id="admin-panel" class="overlay">
        <h3>FOUNDER OVERRIDE</h3>
        <p>Wallet: UGX <span id="adm-bal">0</span></p>
        <p>Revenue: UGX <span id="adm-rev">0</span></p>
        <button class="btn" style="background:#00ff00" onclick="toggleAdmin()">EXIT ADMIN</button>
    </div>

    <div id="legal-overlay" class="overlay" style="display:flex">
        <h2 style="font-family: 'Playfair Display';">Legal Terms üõ°Ô∏è</h2>
        <div class="legal-box">
            <strong>1. Risk:</strong> Market values fluctuate.<br>
            <strong>2. Identity:</strong> ID Scan required for withdrawals > 5k UGX.<br>
            <strong>3. Fees:</strong> 5% deposit fee applies.
        </div>
        <button class="btn" style="background:var(--primary); color:white" onclick="acceptLegal()">I ACCEPT</button>
    </div>

    <div id="onboard-overlay" class="overlay">
        <h2>Setup Account üì±</h2>
        <input type="text" id="user-name" placeholder="Full Name" style="width:100%; padding:12px; margin-bottom:10px; border-radius:10px; border:1px solid #ddd;">
        <div style="display:flex; align-items:center; background:#f0f0f0; border-radius:10px; padding:5px; margin-bottom:15px; border:1px solid #ddd;">
            <span style="padding:0 10px; font-weight:bold;">+256</span>
            <input type="tel" id="user-phone" placeholder="770000000" maxlength="9" style="border:none; background:transparent; outline:none; flex-grow:1; padding:10px;">
        </div>
        <button class="btn" style="background:var(--primary); color:white" onclick="completeOnboarding()">START</button>
    </div>

    <div class="brand"><span class="c1">G</span><span class="c2">a</span><span class="c3">m</span><span class="c4">e</span> Changer</div>

    <div class="content">
        <div id="page1" class="page active-page">
            <div class="card">
                <div style="display:flex; justify-content:space-between">
                    <span>Balance (UGX)</span>
                    <span id="vip-status" style="display:none; background:var(--gold); color:black; padding:2px 8px; border-radius:10px; font-size:9px;">VIP</span>
                </div>
                <div style="font-size:28px; font-weight:bold; margin:10px 0" id="bal">0</div>
                <div style="display:flex; justify-content:space-between; align-items:center; background:rgba(255,255,255,0.1); padding:8px; border-radius:10px">
                    <span>Auto-Pilot</span>
                    <label class="switch"><input type="checkbox" id="auto-pilot" onchange="toggleAuto()"><span class="slider"></span></label>
                </div>
            </div>

            <div id="gift-section" style="text-align: center; margin-bottom:15px;">
                <button id="gift-btn" class="btn" style="background: linear-gradient(45deg, #ff9800, #ff5722); color: white;" onclick="claimDailyGift()">üéÅ Daily Bonus (50-100 UGX)</button>
            </div>

            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-bottom:15px;">
                <button class="btn btn-airtel" onclick="setNetwork('Airtel')">AIRTEL</button>
                <button class="btn btn-mtn" onclick="setNetwork('MTN')">MTN</button>
            </div>
            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
                <button class="btn" style="background:#ddd" onclick="deposit(1000)">1k</button>
                <button class="btn" style="background:#ddd" onclick="deposit(10000)">10k</button>
            </div>
            <button class="btn" style="background:#fff9c4; color:#856404; border:1px dashed #856404; margin-top:10px" onclick="doRefer()">üéÅ Refer & Earn 200 UGX</button>
        </div>

        <div id="page2" class="page">
            <h3>Markets üéì</h3>
            <div class="nugget">
                <strong>Tesla (TSLA)</strong><br><small>High growth AI stock.</small>
                <button class="btn" style="background:var(--primary); color:white; margin-top:10px" onclick="tradeManual('Tesla')">Trade 1k</button>
            </div>
        </div>

        <div id="page3" class="page" style="text-align:center">
            <h2 style="color:var(--gold)">üëë VIP CLUB</h2>
            <div style="background:white; padding:20px; border:2px solid var(--gold); border-radius:20px">
                <p><strong>5,000 UGX Monthly</strong></p>
                <button class="btn" style="background:var(--gold); color:white" onclick="buyVIP()">JOIN VIP</button>
            </div>
        </div>

        <div id="page4" class="page">
            <h3 onclick="adminClick()">Safety üõ°Ô∏è</h3>
            <div style="background:#e3f2fd; padding:15px; border-radius:15px; margin-bottom:15px;">
                Status: <strong id="v-status">UNVERIFIED</strong>
            </div>
            <div id="camera-container" style="display:none; margin-bottom:15px;">
                <video id="video" width="100%" autoplay playsinline style="border-radius:15px; background:black;"></video>
                <button class="btn" style="background:var(--success); color:white; margin-top:5px" onclick="captureID()">SCAN ID</button>
            </div>
            <button id="scan-btn" class="btn" style="background:var(--primary); color:white" onclick="startScanner()">üì∏ Scan National ID</button>
            
            <div id="status-tracker" style="display:none; background:#f9f9f9; padding:15px; border-radius:15px; margin-top:10px;">
                <div style="display:flex; justify-content:space-between; font-size:11px;"><strong>Processing...</strong><span id="p-per">0%</span></div>
                <div style="width:100%; height:8px; background:#eee; border-radius:10px; overflow:hidden; margin:10px 0;"><div id="p-bar" style="width:0%; height:100%; background:var(--primary);"></div></div>
                <small id="p-step" style="font-size:9px; color:#666;">Initializing...</small>
            </div>
            <button class="btn" style="background:#1a1a1a; color:white" onclick="initiateWithdrawal()">Withdraw</button>
            <div id="trade-log" style="font-size:10px; background:#eee; padding:10px; border-radius:10px; margin-top:15px; max-height:100px; overflow-y:auto;">History Empty</div>
        </div>

        <div id="page5" class="page">
            <h3>Elite Ranks üèÜ</h3>
            <div id="cert-preview" style="display:none; border:5px double var(--gold); padding:20px; background:#fff; text-align:center;">
                <h3>ELITE INVESTOR</h3>
                <h4 id="cert-name">NAME</h4>
                <p>ID: GC-256-<span id="cert-id"></span></p>
            </div>
            <button class="btn" style="background:var(--gold); color:black; margin-top:20px" onclick="generateCertificate()">üèÖ CLAIM CERTIFICATE</button>
        </div>
    </div>

    <div id="chat-trigger" onclick="toggleChat(true)" style="position:absolute; bottom:85px; right:20px; width:50px; height:50px; background:var(--wa); border-radius:50%; display:flex; align-items:center; justify-content:center; color:white; font-size:24px; z-index:900;">üí¨</div>
    <div id="support-chat" style="display:none; position:absolute; bottom:85px; right:10px; left:10px; top:100px; background:white; border-radius:20px; box-shadow:0 0 20px rgba(0,0,0,0.2); z-index:1001; flex-direction:column;">
        <div style="background:var(--primary); color:white; padding:15px; border-radius:20px 20px 0 0; display:flex; justify-content:space-between;"><strong>Support ü§ñ</strong><span onclick="toggleChat(false)">‚úï</span></div>
        <div id="chat-msgs" style="flex-grow:1; padding:15px; overflow-y:auto; font-size:12px; display:flex; flex-direction:column; gap:8px;"></div>
        <div style="padding:10px; border-top:1px solid #eee; display:flex;"><input type="text" id="chat-in" style="flex-grow:1; padding:8px; border-radius:20px; border:1px solid #ddd;"><button onclick="sendChat()" style="margin-left:5px;">‚û§</button></div>
    </div>

    <div class="nav">
        <div class="nav-btn nav-active" onclick="tab(1, this)">üè†<span>Home</span></div>
        <div class="nav-btn" onclick="tab(2, this)">üìà<span>Market</span></div>
        <div class="nav-btn" onclick="tab(3, this)">üëë<span>VIP</span></div>
        <div class="nav-btn" onclick="tab(4, this)">üõ°Ô∏è<span>Safety</span></div>
        <div class="nav-btn" onclick="tab(5, this)">üèÜ<span>Ranks</span></div>
    </div>
</div>

<script>
    let balance = 0; let revenue = 0; let refCount = 0; let name = "Investor";
    let network = "None"; let isVIP = false; let lastGift = 0; let marketTrend = 1.0;

    function startApp() {}
    function acceptLegal() { document.getElementById('legal-overlay').style.display='none'; document.getElementById('onboard-overlay').style.display='flex'; }
    function completeOnboarding() {
        const n = document.getElementById('user-name').value;
        const p = document.getElementById('user-phone').value;
        if(!n || p.length < 9) return alert("Enter Name & 9-digit Phone");
        name = n; document.getElementById('onboard-overlay').style.display='none';
    }
    function tab(no, el) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active-page'));
        document.getElementById('page'+no).classList.add('active-page');
        document.querySelectorAll('.nav-btn').forEach(n => n.classList.remove('nav-active'));
        el.classList.add('nav-active');
    }
    function setNetwork(n) { network = n; alert("Selected: " + n); }
    function deposit(amt) {
        if(network === "None") return alert("Select Network");
        balance += (amt * 0.95); revenue += (amt * 0.05); update(); addToLog("Deposit", amt*0.95);
    }
    function claimDailyGift() {
        const now = Date.now(); if(now - lastGift < 86400000) return alert("Wait 24h");
        const g = Math.floor(Math.random()*51)+50; balance += g; lastGift = now; update(); addToLog("Gift", g);
    }
    function toggleAuto() {
        if(document.getElementById('auto-pilot').checked) {
            autoInt = setInterval(() => {
                if(balance >= 1000) {
                    marketTrend = Math.random() > 0.5 ? 1.1 : 0.9;
                    let c = (100 * marketTrend); balance += c; revenue += 5; update(); addToLog("Auto", c);
                }
            }, 5000);
        } else clearInterval(autoInt);
    }
    function initiateWithdrawal() {
        if(balance > 5000 && document.getElementById('v-status').innerText !== "VERIFIED ‚úÖ") return alert("KYC Required");
        const t = document.getElementById('status-tracker'); t.style.display="block";
        let p = 0; const i = setInterval(() => {
            p += 10; document.getElementById('p-bar').style.width = p+"%"; document.getElementById('p-per').innerText = p+"%";
            if(p >= 100) { clearInterval(i); alert("Funds Sent!"); balance = 0; update(); t.style.display="none"; }
        }, 200);
    }
    async function startScanner() {
        document.getElementById('camera-container').style.display='block';
        const v = document.getElementById('video');
        const s = await navigator.mediaDevices.getUserMedia({video: {facingMode:"environment"}});
        v.srcObject = s;
    }
    function captureID() {
        document.getElementById('v-status').innerText = "VERIFIED ‚úÖ";
        document.getElementById('camera-container').style.display='none';
        document.getElementById('video').srcObject.getTracks().forEach(t => t.stop());
    }
    function update() {
        document.getElementById('bal').innerText = Math.floor(balance).toLocaleString();
        document.getElementById('adm-bal').innerText = Math.floor(balance).toLocaleString();
        document.getElementById('adm-rev').innerText = Math.floor(revenue).toLocaleString();
        if(revenue >= 10000000) document.getElementById('gift-section').style.display='none';
    }
    function addToLog(t, a) {
        const l = document.getElementById('trade-log');
        const d = document.createElement('div');
        d.innerHTML = `${t}: <span style="color:${a>=0?'green':'red'}">${a>=0?'+':''}${Math.floor(a)}</span>`;
        l.prepend(d);
    }
    function toggleChat(s) { document.getElementById('support-chat').style.display = s?'flex':'none'; }
    function sendChat() {
        const i = document.getElementById('chat-in'); const m = i.value; if(!m) return;
        appendMsg('user', m); i.value = '';
        setTimeout(() => appendMsg('bot', "I can help with withdrawals!"), 600);
    }
    function appendMsg(s, t) {
        const b = document.getElementById('chat-msgs'); const d = document.createElement('div');
        d.innerText = t; d.style.alignSelf = s==='user'?'flex-end':'flex-start';
        d.style.background = s==='user'?'var(--primary)':'#eee'; d.style.color = s==='user'?'white':'black';
        d.style.padding="8px"; d.style.borderRadius="10px"; b.appendChild(d);
    }
    function generateCertificate() {
        if(balance < 100000) return alert("Need 100k UGX");
        document.getElementById('cert-name').innerText = name.toUpperCase();
        document.getElementById('cert-id').innerText = Math.floor(Math.random()*9999);
        document.getElementById('cert-preview').style.display='block';
    }
    function buyVIP() { if(balance>=5000){balance-=5000; revenue+=5000; isVIP=true; document.getElementById('vip-status').style.display='block'; update();} }
    let clicks = 0; function adminClick() { clicks++; if(clicks>=5) toggleAdmin(); }
    function toggleAdmin() { let a = document.getElementById('admin-panel'); a.style.display = a.style.display==='flex'?'none':'flex'; clicks=0;}
</script>
</body>
</html>
